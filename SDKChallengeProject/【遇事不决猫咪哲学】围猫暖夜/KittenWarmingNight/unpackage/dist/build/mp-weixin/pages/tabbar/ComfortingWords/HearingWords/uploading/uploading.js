(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/ComfortingWords/HearingWords/uploading/uploading"],{"0163":function(e,o,n){"use strict";(function(e,t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=e.getRecorderManager(),c=e.createInnerAudioContext();c.autoplay=!0;var r=function(){n.e("components/wyb-drop-down/wyb-drop-down").then(function(){return resolve(n("493d"))}.bind(null,n)).catch(n.oe)},a={components:{wybDropDown:r},data:function(){return{text:"uni-app",voicePath:"",isRecord:!1,intervalTime:0,timer:null,chooseMode:"CodingMode",id:this.$store.state.vuex_wx_openid.toString(),fileID:"",options:[{header:"选择一个最适合聆听的心情吧~",contents:["代码ING","有点孤独","伤心忧郁","迷茫欸","爆肝中"]}]}},onLoad:function(){wx.setInnerAudioOption({mixWithOther:!0,obeyMuteSwitch:!1});var e=this;i.onStop((function(o){console.log("录音停止了"+JSON.stringify(o)),e.voicePath=o.tempFilePath}))},computed:{intIntervalTime:function(){var e=this;return console.log(Math.round(e.intervalTime)),Math.round(e.intervalTime)}},methods:{startRecord:function(){var e=this;e.timer=setInterval((function(){e.intervalTime+=.5,e.intervalTime>=.5&&!e.isRecord&&(console.log("开始录音"),e.isRecord=!0,e.intervalTime=0,i.start({duration:3e4,format:"mp3"}))}),500)},endRecord:function(){var e=this;e.intervalTime<=.5&&console.log("录音太短了!"),clearInterval(e.timer),e.isRecord&&setTimeout((function(){i.stop(),e.isRecord=!1,console.log(e.isRecord)}),500)},playVoice:function(){var e=this;console.log("播放录音"),e.voicePath&&(c.src=e.voicePath,c.play(),console.log("成功播放"))},onModeSelect:function(e){var o=this;o.index=e.contentIndex,0==e.contentIndex&&(o.chooseMode="CodingMode"),1==e.contentIndex&&(o.chooseMode="LonelyMode"),2==e.contentIndex&&(o.chooseMode="UpsetMode"),3==e.contentIndex&&(o.chooseMode="ConfuseMode"),4==e.contentIndex&&(o.chooseMode="HardWorkingMode"),console.log(o.chooseMode)},uploadMP3:function(){var o=this;e.showLoading({title:"上传中..."}),t.uploadFile({filePath:o.voicePath,cloudPath:o.id+"-words.mp3"}).then((function(e){console.log(e),o.fileID=e.fileID,console.log(e.fileID),t.callFunction({name:"UploadtoDifferentModes",data:{Mode:o.chooseMode,fileID:o.fileID,userID:o.id,index:o.index}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),e.hideLoading(),e.showModal({title:"上传成功！",content:"感谢你的分享~"})}}};o.default=a}).call(this,n("543d")["default"],n("a9ff")["default"])},"08eb":function(e,o,n){"use strict";(function(e){n("6bbb");t(n("66fd"));var o=t(n("105a"));function t(e){return e&&e.__esModule?e:{default:e}}e(o.default)}).call(this,n("543d")["createPage"])},"105a":function(e,o,n){"use strict";n.r(o);var t=n("4418"),i=n("9e1d");for(var c in i)"default"!==c&&function(e){n.d(o,e,(function(){return i[e]}))}(c);n("ea16");var r,a=n("f0c5"),d=Object(a["a"])(i["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],r);o["default"]=d.exports},4418:function(e,o,n){"use strict";n.d(o,"b",(function(){return i})),n.d(o,"c",(function(){return c})),n.d(o,"a",(function(){return t}));var t={wybDropDown:function(){return n.e("components/wyb-drop-down/wyb-drop-down").then(n.bind(null,"493d"))},uLineProgress:function(){return n.e("uview-ui/components/u-line-progress/u-line-progress").then(n.bind(null,"e734"))}},i=function(){var e=this,o=e.$createElement;e._self._c},c=[]},"56a0":function(e,o,n){},"9e1d":function(e,o,n){"use strict";n.r(o);var t=n("0163"),i=n.n(t);for(var c in t)"default"!==c&&function(e){n.d(o,e,(function(){return t[e]}))}(c);o["default"]=i.a},ea16:function(e,o,n){"use strict";var t=n("56a0"),i=n.n(t);i.a}},[["08eb","common/runtime","common/vendor"]]]);