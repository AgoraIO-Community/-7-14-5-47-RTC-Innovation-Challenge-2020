# Storyteller

Storyteller 是一个“交互式教程”编辑器。在 Storyteller 的帮助下，任何人都可以将自己的网站变成一份交互式教程，让观看者在沉浸式的交互过程中快速掌握教程所包含的内容。

在 Agora RTM 和 RTC sdk 的帮助下，Storyteller 还提供了云端录制旁白视频和多人实时协作的功能。

随着 Web 技术的发展，越来越多的产品使用 Web UI 作为自己的用户界面，Storyteller 可以有效提升这类产品的演示、销售、培训流程。

[演示视频](http://www.myriptide.com/storyteller-demo-0.mp4)

## 什么是交互式教程

随着技术手段的发展，人们已经不再满足于通过阅读文字说明、观看视频教程的传统方式。一些产品会在初次使用时提供一次多步骤的执行教程；还有一些产品则开始提供交互式的教程，让用户在观看教程的过程中可以点击特定区域触发相应的结果。

但是这两种形式因为维护成本、适用范围等原因还没有没广泛应用。Storyteller 针对这些问题进行设计，目标是让没有技术背景的普通人也能使用。

将 Storyteller 与其它几种实现方式相对比：

- 初次使用时的指引：指产品初次使用时弹出的向导。
- 专门定制的产品交互式教程：指单独开发一个和产品视觉上一致的界面，但是内部的逻辑为教程做了定制。
- 基于视频、图片的交互式教程：指先录制视频、图片，再在特定位置编辑，增加遮罩层，用于触发交互。

|              | Storyteller | 初次使用时的指引 | 专门定制的产品交互式教程 | 基于视频、图片的交互式教程 |
| ------------ | ----------- | ---------------- | ------------------------ | -------------------------- |
| 维护成本     | 低          | 中               | 高                       | 高                         |
| 场景丰富程度 | 高          | 低               | 中                       | 高                         |
| 清晰度       | 高          | 高               | 高                       | 低                         |
| 响应式       | 支持        | 支持             | 支持                     | 不支持                     |
| 存储容量     | 低          | 低               | 低                       | 高                         |

## Storyteller 技术细节

Storyteller 的技术细节包含两部分：

### 网页静态化技术

对于交互式教程，保证其播放时的稳定性最为重要。传统的文字、视频方式可以理解为是一种完全静态的方式，在完成编写/录制后内容就不会再随原始内容改变而改变。

而网页本身是动态的，与静态化的需求矛盾，这也是我们上面提到一些产品需要专门定制一个交互式教程的原因。

以一个常见的清空购物车场景为例，如果不能保证稳定性，那么可能出现有的观看者播放时购物车里已经没有内容，也就起不到演示的效果。

Storyteller 的静态化方案可以自动将动态网站转化为静态版本，保证教程每次执行时都是稳定的。

### 可拓展的结构

和 Storyteller 的名字一样，我们希望用户基于 Storyteller 编写出故事一样的教程。所以 Storyteller 提供了一套可拓展的结构，让用户可以更好的组织教程，也可以添加更多效果。

Storyteller 的 4 层结构：

```
-> 故事
  -> 章节
    -> 场景
      -> 特效
```

一个故事可以有多个章节，每个章节也可以有多种场景。

场景可以分类，目前只有 Web 网页这一种类型的场景，但是也可以进一步拓展出文字、视频、Terminal 等类型，穿插播放，让场景更为丰富。

特效则是场景中的各种效果，例如目前实现的指引、快进、旁白视频，这部分的拓展空间更大。特效在时间轴上可以在一个场景内组合使用。

### 使用的 Agora SDK

Storyteller 使用 Agora RTM 提供多人协同编辑的能力，多人可以实时共同完成一个故事的创作。

Storyteller 还使用了 Agora RTC 和云端录制的能力，实现旁白视频这一特效。

### 本地使用

1. 克隆仓库
2. 创建 `.env` 文件
3. `yarn` 安装依赖
4. `yarn start-app` 启动

`.env` 文件中需要包含以下环境变量以体验全功能：

```
AGORA_APP_ID=XXX
AGORA_API_TOKEN=XXX
STORAGE_VENDOR=XXX
STORAGE_REGION=XXX
QINIU_AK=XXX
QINIU_SK=XXX
QINIU_BUCKET=XXX
STORAGE_BUCKET_URL=XXX
```
